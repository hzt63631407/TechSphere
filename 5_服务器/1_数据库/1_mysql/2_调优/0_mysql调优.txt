监控
1.服务器本身
2.mysql本身的性能
（jvm快不快 堆内存很重要）


瓶颈分析
什么时候觉得数据库是瓶颈：响应时间
1.服务器本身资源不够用
2.mysql本身资源
定位：
慢查询日志
1.该日志记录超过阈值的sql语句


慢查询
在 MySQL 客户端进行设置。
通过客户端连接到 MySQL 数据库服务器，然后运行如下 SQL 语句：
SET GLOBAL log_slow_queries = ON;
SET GLOBAL long_query_time = 3;
这里设置的是将当前运行的 SQL 语句耗时大于或等于3秒的记录下来并输出到日志文件中


如果没有开启慢sql
1.通过语句直接查询：show variables like 'slow_query%';




调优
1.连接数,基本会采用数据库连接池

2.数据库内存 数据库内存可以配置，一般配置服务器80%内存

3.sql语句
3.1添加索引
3.2减少查询，多表查询，模糊查询
3.3无论表大小，添加分页的参数，如果表数据量太大，考虑分表情况
3.4更新 不要主动锁表，及时关闭事务，

4.表结构 设计表的时候，先创建索引 需要表的设计（减少多表的查询）设计一些冗余
化表结构：将字段很多的表分解成多个表

5.架构优化
数据库中件间 shardingsphere（本质是数据库代理）
1.1分库分表 数据，放在不同的数据库
1.2读写分离 一个主服务器负责写入数据 其他服务器读取





