



分布式架构
分布式：同一个系统的不同的功能部署在不同的机器上。
集群：同一个业务，部署在多个服务器上(
不同的服务器运行同样的代码，干同一件事)
微服务：将模块拆分成一个独立的服务单元通过接口来实现数据的交互。

而集群恰好弥补了分布式的缺陷，集群就是多个服务器处理相同的业务。
这在一方面可以解决或者说改善我们系统的并发问题，
一方面可以解决我们服务器如果出现一定数量的宕机后，
系统仍然可以正常运转。


分布式和微服务的区别总结
从分布式和微服务的概念来看，都是对一个项目系统进行了拆分，
一个是在部署层面，一个是在架构设计层面。
但是微服务相较于分布式来说，细粒度更小，服务间的耦合度更低，
并且可以说微服务一定是分服务分开部署的，
所以其实微服务是基于分布式的，更像是对分布式系统的一种优化

https://bbs.huaweicloud.com/blogs/338485
https://blog.csdn.net/a745233700/article/details/117448077


分布式是将不同的业务分散到不同的服务器上
将一个系统的两个功能分别部署在两个tomcat节点上
（如：快手中的各个ft功能不相互影响）
集群是同一个业务由多台服务器一起完成（nignx分流）
分布式是软件层面，集群是硬件层面


为了统一管理微服务系统，可以部署一个统一的网关，作为系统的唯一入口。
网关封装了系统内部架构，为每个客户端提供一个定制的API。




分布式架构：
https://blog.csdn.net/qq_47360019/article/details/127335791
本地缓存 mybatis 一级缓存二级缓存
远程缓存 redis memcache




https://zhuanlan.zhihu.com/p/25861224（经典）
（后端服务类型 微服务）
user-》slb(nginx)（运维层）-》apigatewai-》usersserver（微服务）-》
mysql redis kafak-》第三方（如果是电商，支付服务）


157. zookeeper 是什么？
zookeeper 是一个分布式的，开放源码的分布式应用程序协调服务，
是 google chubby 的开源实现，是 hadoop 和 hbase 的重要组件。
它是一个为分布式应用提供一致性服务的软件，提供的功能包括：
配置维护、域名服务、分布式同步、组服务等。


158. zookeeper 都有哪些功能？
集群管理：监控节点存活状态、运行请求等。
主节点选举：主节点挂掉了之后可以从备用的节点开始新一轮选主，
主节点选举说的就是这个选举的过程，使用 zookeeper 可以协助完成这个过程。

分布式锁：zookeeper 提供两种锁：独占锁、共享锁。独占锁即一次只能有一个线程使用资源，
共享锁是读锁共享，读写互斥，即可以有多线线程同时读同一个资源，
如果要使用写锁也只能有一个线程使用。zookeeper可以对分布式锁进行控制。

命名服务：在分布式系统中，通过使用命名服务，
客户端应用能够根据指定名字来获取资源或服务的地址，提供者等信息。


159. zookeeper 有几种部署模式？
zookeeper 有三种部署模式：

单机部署：一台集群上运行；
集群部署：多台集群运行；
伪集群部署：一台集群启动多个 zookeeper 实例运行。

