


一、CDN 原理:
描述: 我们可以将CDN比作天猫超市与菜鸟在全国各地建了本地仓库,
当用户购买直营的东西的时候(不在是跨区配送而是同城配送),
所以下单购买后，由最近的仓发货就近配送，用户购买的体验明显好太多了;

https://blog.csdn.net/u013072756/article/details/115182258





二、、引入CDN之后，用户访问网站一般经历以下步骤：
当用户点击网站页面上的内容URL，先经过本地DNS系统解析，如果本地DNS服务器没有相应域名的缓存，
则本地DNS系统会将域名的解析权交给CNAME指向的CDN专用DNS服务器。
CDN的DNS服务器将CDN的全局负载均衡设备IP地址返回给用户。
用户向CDN的全局负载均衡设备发起URL访问请求。
CDN全局负载均衡设备根据用户IP地址，以及用户请求的URL，
选择一台用户所属区域的区域负载均衡设备，并将请求转发到此设备上。
基于以下这些条件的综合分析之后，区域负载均衡设备会选择一个最优的缓存服务器节点，
并从缓存服务器节点处得到缓存服务器的IP地址，最终将得到的IP地址返回给全局负载均衡设备：
根据用户IP地址，判断哪一个边缘节点距用户最近；
根据用户所请求的URL中携带的内容名称，判断哪一个边缘节点上有用户所需内容；
查询各个边缘节点当前的负载情况，判断哪一个边缘节点尚有服务能力。
全局负载均衡设备把服务器的IP地址返回给用户。
用户向缓存服务器发起请求，缓存服务器响应用户请求，将用户所需内容传送到用户终端。
如果这台缓存服务器上并没有用户想要的内容，而区域均衡设备依然将它分配给了用户，
那么这台服务器就要向它的上一级缓存服务器请求内容，直至追溯到网站的源服务器将内容拉到本地。




三、cdn的缓存
https://blog.csdn.net/woleigequshawanyier/article/details/86369933
1.CDN往往被用来存放静态资源，当作缓存使用。
（所谓“静态资源”，就是像 JS、CSS、图片等不需要业务服务器进行计算即得的资源）
2.Cookie 是紧跟域名的。同一个域名下的所有请求，都会携带 Cookie，
把静态资源和主页面置于不同的域名下，完美地避免了不必要的 Cookie 的出现！
（一般静态不携带cooke，没有token）

结合前端优化：
https://blog.csdn.net/woleigequshawanyier/category_8565289.html
（阿里面试，缓存什么呢？缓存静态资源，把静态资源缓存到cdn）


cdn缓存的类型
在CDN缓存中，有两种类型的缓存：浏览器缓存和CDN节点缓存。

1. 浏览器缓存
浏览器缓存是指当用户访问一个网站时，浏览器会将该网站的资源缓存到本地磁盘中，
以便在用户下次访问该网站时直接从本地获取资源，而不必再次向服务器请求。
这种缓存方式可以有效地减少用户的请求次数，从而提高网站的访问速度。

2. CDN节点缓存
CDN节点缓存是指CDN服务器会将用户请求的资源缓存到CDN节点上，
以便在下次用户请求相同资源时，可以直接从CDN节点获取资源，而不必再向源服务器请求。
这种缓存方式可以有效地减轻源服务器的压力，并提高网站的访问速度。

https://www.suyun.net/newsarticle/137.html

（游戏中心的下载的apk就是cdn上下载，不需要服务器计算）


