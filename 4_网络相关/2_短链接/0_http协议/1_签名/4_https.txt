

一.http和https的区别
http端口：80
https端口：443
https://www.baidu.com:443
https位于传输层

https是在HTTP 协议基本之上 再加上SSL/TLS 协议。
因此当你访问一个支持 https 的网站时，是需要先进行 SSL/TLS 握手建立连接的。
SSL是非对称加密
HTTP+加密+认证+完整性保护 = https



二、Https优缺点?
(1).通信使用明文不加密,内容可能被窃听,也就是被抓包分析
(2).不验证通信方身份,可能遭到伪装
(3).无法验证报文完整性,可能被篡改

区别：
1.https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用
2.http是超文本传输协议，信息是明文传输https则是具有安全性的ssl加密传输协议
3.http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443
4.http耗时低，https耗时高

https://blog.csdn.net/m0_46672151/article/details/123744429
HTTPS采用的就是对称加密和非对称加密的混合加密方法。
混合加密解决了信息的机密性，防止数据被窃听
摘要算法实现了数据的完成性，防止了数据被篡改
数字证书提供了身份验证，防止了被冒充风险






三、HTTPS的通信过程
https://blog.51cto.com/u_8865295/5016168
（这里是在TCP的三次握手已经完成的基础上进行的）
可以看到工作流程，基本分为三个阶段：
1.认证服务器（服务器会先提供给CA公钥）
认证服务器。浏览器内置一个受信任的CA机构列表，并保存了这些CA机构的证书。
如果认证该服务器证书的CA机构，存在于浏览器的受信任CA机构列表中，
并且服务器证书中的信息与当前正在访问的网站（域名等）一致，那么浏览器就认为服务端是可信的，
服务器返回给客户端证书，客户端从证书中取得服务器公钥，用于后续流程。

2.协商会话密钥
客户端在认证完服务器，获得服务器的公钥之后，利用该公钥与服务器进行加密通信，
协商出两个会话密钥，分别是用于加密客户端往服务端发送数据的客户端会话密钥，
用于加密服务端往客户端发送数据的服务端会话密钥。在已有服务器公钥，
可以加密通讯的前提下，还要协商两个对称密钥的原因，是因为非对称加密相对复杂度更高，
在数据传输过程中，使用对称加密，可以节省计算资源。

3.加密通讯。此时客户端服务器双方都有了本次通讯的会话密钥，
之后传输的所有Http数据，都通过会话密钥加密。




四、http换成https测试
如果模块请求 http 改为了 https ，测试方案应该如何制定，修改？
1.分别用http 还有 https 登录试试。
2.如果只有https 可以正常登录，地址栏显示一把锁头，那么这个网站是有部署 SSL 的。
或者说没有设置 http 链接自动跳转 https 链接；
3.如果 http 和 https 都能够正常登录，进一步说明该网站没有设置强制 https 登录，
相反如果用 http 登录，结果跳转到 https 页面，
说明网站部署了 SSL， 而且设置了 http 自动跳转 https。


