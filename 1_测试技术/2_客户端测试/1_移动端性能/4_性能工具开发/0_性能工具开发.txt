



http://blog.syzmkeji.com/article/detail/10


我们早期的时候，我也做类似的工具，
通过python脚本调adb命令获取cpu和内存，能耗，启动时间这些，
ios也做过，通过一个python的第三库tidevice（阿里开发的）和py-ios-devices
（如果出现了anr，crash，能够获取到日志）
还有通过opencv和atx获取页面的加载时间。

（然后把数据存储到mysql，再通过grafana展示出来。
https://mp.weixin.qq.com/s/osKKz8IOMxeywEjmySbGrQ）



adb shell top cpu
adb dumpsys meminfo
adb shell am start -W '+package_name+'/'+activity_name+'
adb shell dumpsys battery（电量就是功耗，获取2个时间段）
（https://blog.csdn.net/weixin_43639443/article/details/89242447）
（1.关闭其他应用，关闭usb调试 2.设置屏幕不自动关闭）

测试能耗
1.关闭其他应用
2.跑脚本，一个小时
3.前后电池的百分比的差值
（10%左右）
对比其他竞品


https://www.jianshu.com/p/cf1f30710544
1.通过tidevice app list获取测试app的bundle_id
2.py-ios-device提供了对应的方法获取到专项对应数据，如：
cpu、memory、net、disk、Fps、设备的功耗（电流,电压，功率，温度等)、
syslog，crashlog、栈快照等
3.pyidevice battery 电池
（基本测试instruments）

（没有团队协同，用perfdog，部门有一个账号）


性能测试遇到过什么问题嘛？
获取页面的启动时间。
工作中，安卓低系统启动比较慢，我们就把机型屏蔽掉。



2.页面的加载时间：
https://ke.qq.com/course/2557052/12067745707787388#term_id=102662207
当时测试性能测试，我们要测试游戏的启动时间。
因为在安卓低端机，启动时间比较慢，
如果特别慢，我们需要把某个系统以下的机型给屏蔽掉，我们初略的以系统进行划分。

我们要保证游戏的启动的时间不低于5s，
如果你看录屏的话不能很好的进行确认，录屏只会显示到秒。
而且你得一直测，测一次看一次录屏，非常的费力。
当时去网上查找有没有比较好的方法，当时在腾讯课堂找到一个比较好的方法。
这个方法就是利用atx和opcncv来实现。

利用atx和opencv实现
1.提前存好一张加载好的图片（预期的图片，完全启动之后的图片）
2.用opencv2.imread方法进行读取。
2.开始运行atx，进行坐标的点击，同时开始计时。
3.再调用atx.pattern方法，进行匹配，当界面运行到这张图片的时候，就认为匹配成功
也就是加载成功了。
（这个方法是可以设置重合度）


云测平台有近百款机器。
云测平台早期我也会参与建设，只不过后来我们分部门了，不归我这边负责了。
就是设备集群管理，用atxserver搭建的（原理也是stf）
服务器用node.js跟thinkdb搭建的。
前端是用python程序加上hmtl和js文件。



python全面的库：
https://blog.csdn.net/dingyu002/article/details/118497204?


FPS是指每秒显示帧数，也就是动画或视频的画面数。FPS越高，画面越流畅。
一般来说，FPS至少要达到30才能避免动作不流畅。
页面不动时，FPS不一定是0，这取决于页面的渲染方式和刷新率。
有些页面可能会在不动时停止渲染，从而降低FPS，有些页面可能会持续渲染，从而保持FPS。
刷新率是指屏幕每秒刷新的次数，它也会影响FPS的上限。
您想要测试您的页面的FPS吗？您有什么其他问题吗？

如果没有渲染，FPS就是0，因为没有画面更新。
但是，这并不意味着页面的性能就很好，因为可能还有其他因素影响性能，比如CPU和内存的占用


